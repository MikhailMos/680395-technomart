var ESC_KEY_CODE=27,linkWriteUs=document.querySelector(".contacts-btn")?document.querySelector(".contacts-btn"):"",linkMap=document.querySelector(".contacts-map-link")?document.querySelector(".contacts-map-link"):"",catalog=document.querySelector(".goods-list")?document.querySelector(".goods-list"):"",popupInfoBuy=document.querySelector(".modal-order-info")?document.querySelector(".modal-order-info"):"";if(linkWriteUs){var popupWriteUs=document.querySelector(".modal-write-us")?document.querySelector(".modal-write-us"):"",formWriteUs=popupWriteUs.querySelector(".write-us-form")?popupWriteUs.querySelector(".write-us-form"):"",userName=popupWriteUs.querySelector("#userNameField")?popupWriteUs.querySelector("#userNameField"):"",userEmail=popupWriteUs.querySelector("#userEmailField")?popupWriteUs.querySelector("#userEmailField"):"",userText=popupWriteUs.querySelector("#letterField")?popupWriteUs.querySelector("#letterField"):"",closeWriteUs=popupWriteUs.querySelector(".write-us-btn-close")?popupWriteUs.querySelector(".write-us-btn-close"):"",isStorageSupport=!0,storage="";function openFormWriteUs(e){e.preventDefault(),popupWriteUs.classList.add("modal-show"),storage?(userName.value=storage,userEmail.focus()):userName.focus()}function closeFormWriteUs(e){e.preventDefault(),popupWriteUs.classList.remove("modal-show"),popupWriteUs.classList.remove("modal-error")}function fillinFormWriteUs(e){userName.value&&userEmail.value&&userText.value?isStorageSupport&&localStorage.setItem("userName",userName.value):(e.preventDefault(),popupWriteUs.classList.remove("modal-error"),popupWriteUs.offsetWidth=popupWriteUs.offsetWidth,popupWriteUs.classList.add("modal-error"))}try{storage=localStorage.getItem(userName)}catch(e){isStorageSupport=!1}linkWriteUs.addEventListener("click",openFormWriteUs),formWriteUs.addEventListener("submit",fillinFormWriteUs),closeWriteUs.addEventListener("click",closeFormWriteUs)}if(linkMap){var popupMap=document.querySelector(".modal-fullmap")?document.querySelector(".modal-fullmap"):"",closeMap=popupMap.querySelector(".fullmap-btn-close")?popupMap.querySelector(".fullmap-btn-close"):"";function linkToMap(e){e.preventDefault(),popupMap.classList.add("modal-show")}function closeFormMap(e){e.preventDefault(),popupMap.classList.remove("modal-show")}linkMap.addEventListener("click",linkToMap),closeMap.addEventListener("click",closeFormMap)}if(popupInfoBuy){var closeInfoBuy=popupInfoBuy.querySelector(".order-info-btn-close")?popupInfoBuy.querySelector(".order-info-btn-close"):"";function openFormInfoBuy(e){e.target.classList.contains("goods-item-btn-buy")&&(e.preventDefault(),popupInfoBuy.classList.add("modal-show"))}function closeFormInfoBuy(e){e.target.classList.contains("order-info-btn-close")&&(e.preventDefault(),popupInfoBuy.classList.remove("modal-show"))}catalog.addEventListener("click",openFormInfoBuy),closeInfoBuy.addEventListener("click",closeFormInfoBuy)}function pressESC(e){e.keyCode===ESC_KEY_CODE&&document.querySelector(".modal-show").classList.remove("modal-show")}window.addEventListener("keydown",pressESC);